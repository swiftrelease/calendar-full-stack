{"version":3,"sources":["components/TimeSlice/TimeSlice.module.css","components/CalendarEvent/CalendarEvent.module.css","components/AuthForm/AuthForm.module.css","components/UI/Button/Button.module.css","containers/App.module.css","containers/Calendar/Calendar.module.css","components/UI/Modal/Modal.module.css","components/UI/Backdrop/Backdrop.module.css","components/UI/Button/Button.js","components/CalendarEvent/CalendarEvent.js","components/TimeSlice/TimeSlice.js","components/UI/Button/AddButton/AddButton.js","hoc/Auxiliary.js","components/UI/Backdrop/Backdrop.js","components/UI/Modal/Modal.js","components/AddEventControls/AddEventControls.js","containers/Calendar/Calendar.js","components/AuthForm/AuthForm.js","containers/App.js","serviceWorker.js","index.js"],"names":["module","exports","TimeSlice","TimeArea","EventArea","CalEvent","Selected","Auth","warning","Button","Red","Green","White","DeleteButton","Controls","AddButton","SignOut","Export","App","Calendar","Modal","Backdrop","button","props","classNames","classes","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","c","value","push","err","return","react_default","a","createElement","type","className","join","onClick","click","children","calendarEvent","selected","style","width","height","top","offsetTop","left","delete","timeSlice","events","prevHeight","map","e","index","start","sliceStart","duration","concat","_i","length","val","CalendarEvent","event","selectEvent","_id","key","deleteHandler","title","small","borderTop","fontSize","time","addButton","aux","backdrop","show","clicked","modal","Auxiliary","modalClosed","transform","opacity","AddEventControls","hours","minutes","onEnter","_this","confirm","values","id","this","setupOptions","onKeyDown","error","message","cancel","Component","apiUrl","state","addingEvent","selectedEventId","addEventError","networkError","offsetEvents","getEventData","_callee","request","data","regenerator_default","wrap","_context","prev","fetch","method","headers","X-ApiToken","apiToken","sent","status","json","abrupt","setState","stop","containsOffsetEvent","evnt","console","log","calcEventStyle","baseOffset","overlappingEventsNum","overlappingEvents","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","eventsOverlap","i","j","offsetLeft","offsetPercent","selectEventHandler","stopPropagation","deselectEventHandler","addEventButtonClickHandler","addEventCancelHandler","closeErrorModalHandler","deleteEventHandler","_callee2","_context2","Content-Type","body","JSON","stringify","Object","toConsumableArray","splice","addEventHandler","_callee3","payload","eventData","_context3","document","querySelector","isNaN","exportJsonHandler","_callee4","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","tmp","blob","url","link","encode","_context4","s","out","charCodeAt","Uint8Array","t0","finish","Blob","URL","createObjectURL","href","download","baseWidth","_iterator5","_iteratorNormalCompletion5","_step5","widthPercent","e1","e2","_this2","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","styles","ev","objectSpread","timeStart","amount","timeSlicesAmount","timeSlices","getSliceStart","getEventsForSlice","setupTimeSlices","components_AddEventControls_AddEventControls","signOut","authForm","authorize","authUrl","authorized","authError","componentDidMount","cookies","authToken","resp","cookie","split","uname","setAuthError","condition","authorizationHandler","pass","passHash","_data","shajs","update","digest","action","signOutHandler","Date","toUTCString","containers_Calendar_Calendar","AuthForm","Boolean","window","location","hostname","match","ReactDOM","render","containers_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.f8c48773.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"TimeSlice\":\"TimeSlice_TimeSlice__RMlbL\",\"TimeArea\":\"TimeSlice_TimeArea__X9z0w\",\"EventArea\":\"TimeSlice_EventArea__1J2ft\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CalEvent\":\"CalendarEvent_CalEvent__1qIuX\",\"Selected\":\"CalendarEvent_Selected__3B_nL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Auth\":\"AuthForm_Auth__aDBu3\",\"warning\":\"AuthForm_warning__3Pxnt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3lFHW\",\"Red\":\"Button_Red__UJqY3\",\"Green\":\"Button_Green__TYQET\",\"White\":\"Button_White__2Ukga\",\"DeleteButton\":\"Button_DeleteButton__1BORa\",\"Controls\":\"Button_Controls__hOqtp\",\"AddButton\":\"Button_AddButton__pvLdm\",\"SignOut\":\"Button_SignOut__33MQ7\",\"Export\":\"Button_Export__DnoC-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2_CuX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Calendar\":\"Calendar_Calendar__1HlCv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__Ha-T5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__nyqul\"};","import React from 'react';\r\n\r\nimport classes from './Button.module.css';\r\n\r\nconst button = (props) => {\r\n  let classNames = [classes.Button];\r\n  if (props.classes) {\r\n    for (let c of props.classes) {\r\n      classNames.push(classes[c]);\r\n    }\r\n  }\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      className={classNames.join(' ')}\r\n      onClick={props.click}\r\n    >\r\n      {props.children}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default button;\r\n","import React from 'react';\r\nimport classes from './CalendarEvent.module.css';\r\n\r\nimport Button from '../UI/Button/Button';\r\n\r\nconst calendarEvent = (props) => {\r\n  let classNames = props.selected ?\r\n    [classes.CalEvent, classes.Selected].join(\" \") :\r\n    classes.CalEvent;\r\n  return (\r\n    <div\r\n      className={classNames}\r\n      onClick={props.click}\r\n      style={{\r\n        width: props.style.width,\r\n        height: props.style.height,\r\n        top: props.style.offsetTop,\r\n        left: props.style.left\r\n      }}\r\n    >\r\n      {props.children}\r\n      {props.selected ? <Button classes={[\"DeleteButton\"]} click={props.delete}>x</Button> : null }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default calendarEvent;\r\n","import React from 'react';\r\nimport classes from './TimeSlice.module.css';\r\n\r\nimport CalendarEvent from '../CalendarEvent/CalendarEvent';\r\n\r\nconst timeSlice = (props) => {\r\n\r\n  let events = null;\r\n\r\n  if (props.events) {\r\n    let prevHeight = [];\r\n    events = props.events.map((e, index) => {\r\n      const top = (e.start - props.sliceStart) * 10 / 3 + '%';\r\n      const height = e.duration * 10 / 3 + '%';\r\n      let offsetTop = `calc(${top}`;\r\n      for (let val of prevHeight) {\r\n        offsetTop += ` - ${val}`;\r\n      }\r\n      offsetTop += ')';\r\n      prevHeight.push(height);\r\n      const width = e.width;\r\n      const left = e.left;\r\n      return (\r\n        <CalendarEvent\r\n          click={(event) => props.selectEvent(event, e._id)}\r\n          duration={e.duration}\r\n          key={index}\r\n          style={{ offsetTop, height, width, left }}\r\n          selected={e.selected ? e.selected : null}\r\n          delete={e.selected ? (event) => e.deleteHandler(event, e._id) : null}\r\n        >\r\n          {e.title}\r\n        </CalendarEvent>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={classes.TimeSlice}\r\n      style={ props.small ? null : {borderTop: \"1px solid #ccc\"} }\r\n    >\r\n      <div\r\n        className={classes.TimeArea}\r\n        style={ props.small ? {fontSize: \"12px\"} : null }\r\n      >\r\n        {props.time}\r\n      </div>\r\n      <div className={classes.EventArea}>\r\n        {events}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default timeSlice;\r\n","import React from 'react';\r\n\r\nimport Button from '../Button';\r\n\r\nconst addButton = (props) => (\r\n  <Button click={props.click} classes={[\"AddButton\"]}>\r\n    +\r\n  </Button>\r\n);\r\n\r\nexport default addButton;\r\n","const aux = (props) => props.children;\r\n\r\nexport default aux;\r\n","import React from 'react';\r\n\r\nimport classes from './Backdrop.module.css';\r\n\r\nconst backdrop = (props) => (\r\n  props.show ? <div className={classes.Backdrop} onClick={props.clicked}></div> : null\r\n);\r\n\r\nexport default backdrop;\r\n","import React from 'react';\r\n\r\nimport classes from './Modal.module.css';\r\nimport Aux from '../../../hoc/Auxiliary';\r\nimport Backdrop from '../Backdrop/Backdrop';\r\n\r\nconst modal = (props) => (\r\n  <Aux>\r\n    <Backdrop show={props.show} clicked={props.modalClosed} />\r\n    <div\r\n      className={classes.Modal}\r\n      style={{\r\n        transform: props.show ? 'translateY(0)' : 'translateY(-100vh)',\r\n        opacity: props.show ? '1' : 0\r\n      }}\r\n    >\r\n      {props.children}\r\n    </div>\r\n  </Aux>\r\n);\r\n\r\nexport default modal;\r\n","import React, { Component } from 'react';\r\nimport './AddEventControls.css';\r\n\r\nimport Aux from '../../hoc/Auxiliary';\r\nimport Button from '../UI/Button/Button';\r\n\r\nclass AddEventControls extends Component {\r\n\r\n  hours = [8, 9, 10, 11, 12, 1, 2, 3, 4];\r\n  minutes = ['00', '05', '10', '15', '20', '25', '30', '35', '40', '45', '50', '55'];\r\n\r\n  setupOptions(values) {\r\n    return values.map(value => <option value={value} key={value}>{value}</option>);\r\n  }\r\n\r\n  onEnter = (event) => {\r\n    if (event.key === 'Enter') this.props.confirm();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Aux>\r\n        <h3>Add event</h3>\r\n        <div className=\"add-event-controls\">\r\n          <select id=\"hours\">\r\n            {this.setupOptions(this.hours)}\r\n          </select>\r\n          <select id=\"minutes\">\r\n            {this.setupOptions(this.minutes)}\r\n          </select>\r\n          <label>Duration: </label>\r\n          <input type=\"text\" id=\"duration\" onKeyDown={this.onEnter} />\r\n          {this.props.error && this.props.error.type === \"duration\" ?\r\n            <label className=\"warning\">{this.props.error.message}</label> : null}\r\n          <label>Title: </label>\r\n          <input type=\"text\" id=\"title\" onKeyDown={this.onEnter} />\r\n          {this.props.error && this.props.error.type === \"title\"\r\n            ? <label className=\"warning\">{this.props.error.message}</label> : null}\r\n          <Button click={this.props.confirm} classes={[\"Green\", \"Controls\"]}> Add </Button>\r\n          <Button click={this.props.cancel} classes={[\"White\", \"Controls\"]}> Cancel </Button>\r\n        </div>\r\n      </Aux>\r\n    );\r\n  }\r\n};\r\n\r\nexport default AddEventControls;\r\n","import React, { Component } from 'react';\r\nimport classes from './Calendar.module.css';\r\n\r\nimport TimeSlice from '../../components/TimeSlice/TimeSlice';\r\n// import CalendarEvent from '../../components/CalendarEvent/CalendarEvent';\r\nimport AddButton from '../../components/UI/Button/AddButton/AddButton';\r\nimport Button from '../../components/UI/Button/Button';\r\nimport Modal from '../../components/UI/Modal/Modal';\r\nimport AddEventControls from '../../components/AddEventControls/AddEventControls';\r\n\r\nconst SOCKET_DEV = 'http://localhost:5000';\r\nconst SOCKET_PROD = 'https://rem-calendar.herokuapp.com'\r\n\r\nconst apiUrl = `${SOCKET_PROD}/api/calendar`;\r\n\r\nclass Calendar extends Component {\r\n\r\n  state = {\r\n    events: [],\r\n    addingEvent: false,\r\n    selectedEventId: null,\r\n    addEventError: null,\r\n    networkError: null\r\n  };\r\n\r\n  offsetEvents = [];\r\n\r\n  getEventData = async () => {\r\n    const request = await fetch(apiUrl, {\r\n      method: 'GET',\r\n      headers: {\r\n        'X-ApiToken': this.props.apiToken\r\n      }\r\n    });\r\n    if (request.status === 200) {\r\n      const data = await request.json();\r\n      return data;\r\n    } else {\r\n      this.setState({networkError: `Failed to connect to the server: ${request.status}.`});\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const eventData = await this.getEventData();\r\n    if (eventData) {\r\n      for (let evnt of eventData) {\r\n        let baseWidth = 100;\r\n        let overlappingEventsNum = 1;\r\n        let overlappingEvents = [];\r\n        for (let e of eventData) {\r\n          if (this.eventsOverlap(evnt, e) && evnt._id !== e._id) {\r\n                 overlappingEvents.push(e);\r\n                 overlappingEventsNum++;\r\n               }\r\n        }\r\n        for (let i = 0; i < overlappingEvents.length - 1; i++) {\r\n          for (let j = i + 1; j < overlappingEvents.length; j++) {\r\n            if (!this.eventsOverlap(overlappingEvents[i], overlappingEvents[j])) {\r\n              overlappingEventsNum--;\r\n            }\r\n          }\r\n        }\r\n        evnt.widthPercent = baseWidth / overlappingEventsNum;\r\n      }\r\n\r\n      this.setState({events: eventData});\r\n    }\r\n  }\r\n\r\n  eventsOverlap(e1, e2) {\r\n    return ( (e1.start <= e2.start && e1.start + e1.duration > e2.start)\r\n      || (e2.start <= e1.start && e2.start + e2.duration > e1.start) );\r\n  }\r\n\r\n  containsOffsetEvent = (evnt) => {\r\n    for (let e of this.offsetEvents) {\r\n      console.log(e._id, evnt._id);\r\n      if (evnt._id === e._id) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  calcEventStyle = (evnt) => {\r\n    let baseWidth = 100;\r\n    let baseOffset = 0;\r\n    let overlappingEventsNum = 1;\r\n    let overlappingEvents = [];\r\n    for (let e of this.state.events) {\r\n      if (this.eventsOverlap(evnt, e) && evnt._id !== e._id) {\r\n             overlappingEvents.push(e);\r\n             overlappingEventsNum++;\r\n           }\r\n    }\r\n    for (let i = 0; i < overlappingEvents.length - 1; i++) {\r\n      for (let j = i + 1; j < overlappingEvents.length; j++) {\r\n        if (!this.eventsOverlap(overlappingEvents[i], overlappingEvents[j])) {\r\n          overlappingEventsNum--;\r\n        }\r\n      }\r\n    }\r\n    // console.log('event:');\r\n    // console.log(evnt);\r\n    // console.log('overlappingEvents:');\r\n    // console.log(overlappingEvents);\r\n    // console.log('offsetEvents');\r\n    // console.log(this.offsetEvents);\r\n    for (let e of overlappingEvents) {\r\n      if ( (evnt.start > e.start) ||\r\n      (evnt.start === e.start && !this.containsOffsetEvent(e)) ) {\r\n        baseOffset++;\r\n        this.offsetEvents.push(e);\r\n      }\r\n    }\r\n\r\n    let offsetPercent = (baseWidth / overlappingEventsNum) * baseOffset;\r\n    let offsetLeft;\r\n    if (offsetPercent) {\r\n      offsetLeft = `${offsetPercent}%`;\r\n    } else {\r\n      offsetLeft = '0';\r\n    }\r\n\r\n    return {\r\n      width: `calc(${baseWidth / overlappingEventsNum}% - 12px)`,\r\n      left: offsetLeft\r\n    };\r\n  };\r\n\r\n  getSliceStart(time, small) {\r\n    let sliceStart = (time > 5 ? (time - 8) * 60 : (time + 4) * 60);\r\n    if (small) sliceStart += 30;\r\n    return sliceStart;\r\n  }\r\n\r\n  getEventsForSlice(sliceStart) {\r\n    let events = [];\r\n    for (let e of this.state.events) {\r\n      if (e.start >= sliceStart && e.start < sliceStart + 30) events.push(e);\r\n    }\r\n    events = events.map(e => {\r\n      let styles = this.calcEventStyle(e);\r\n      let ev = { ...e, width: styles.width, left: styles.left };\r\n      if (ev._id === this.state.selectedEventId) {\r\n        ev = { ...ev, selected: true, deleteHandler: this.deleteEventHandler };\r\n      }\r\n      return ev;\r\n    });\r\n    return events;\r\n  }\r\n\r\n  setupTimeSlices() {\r\n    const start = this.props.timeStart;\r\n    const amount = this.props.timeSlicesAmount;\r\n    let small = false;\r\n    const timeSlices = [];\r\n    for (let i = 0, time = start; i < amount; i++) {\r\n      let sliceStart = this.getSliceStart(time, small);\r\n      timeSlices.push((\r\n        <TimeSlice\r\n          events={this.getEventsForSlice(sliceStart)}\r\n          selectEvent={this.selectEventHandler}\r\n          small={small}\r\n          time={`${time}:${small ? '30' : '00'}`}\r\n          sliceStart={sliceStart}\r\n          key={`${time}:${small ? '30' : '00'}`}\r\n        />\r\n      ));\r\n      if (time === 12 && small) time = 0;\r\n      if (small) time++;\r\n      small = !small;\r\n    }\r\n    return timeSlices;\r\n  }\r\n\r\n  selectEventHandler = (event, id) => {\r\n    event.stopPropagation();\r\n    if (this.state.selectedEventId === id) return;\r\n    this.setState({selectedEventId: id});\r\n  };\r\n\r\n  deselectEventHandler = () => {\r\n    if (this.state.selectedEventId) {\r\n      this.setState({selectedEventId: null});\r\n    }\r\n  };\r\n\r\n  addEventButtonClickHandler = () => {\r\n    this.setState({ addingEvent: true });\r\n  };\r\n\r\n  addEventCancelHandler = () => {\r\n    this.setState({ addingEvent: false });\r\n  };\r\n\r\n  closeErrorModalHandler = () => {\r\n    this.setState({ networkError: null });\r\n  };\r\n\r\n  deleteEventHandler = async (event, id) => {\r\n    event.stopPropagation();\r\n    let resp = await fetch(apiUrl, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'X-ApiToken': this.props.apiToken\r\n      },\r\n      body: JSON.stringify({id})\r\n    });\r\n    if (resp.status === 200) {\r\n      let events = [...this.state.events];\r\n      for (let i = 0; i < events.length; i++) {\r\n        if (events[i]._id === id) {\r\n          events.splice(i, 1);\r\n          this.setState({events});\r\n          break;\r\n        }\r\n      }\r\n    } else {\r\n      console.log(\"error with the request\");\r\n    }\r\n  };\r\n\r\n  addEventHandler = async () => {\r\n    let hours = +document.querySelector('select#hours').value;\r\n    let minutes = +document.querySelector('select#minutes').value;\r\n    let duration = +document.querySelector('input#duration').value;\r\n    let title = document.querySelector('input#title').value;\r\n\r\n\r\n    if (isNaN(duration)) {\r\n      this.setState({addEventError: {\r\n        type: \"duration\",\r\n        message: \"Duration has to be a number\"\r\n      }});\r\n      return;\r\n    }\r\n    if (duration < 5 || duration > 300) {\r\n      this.setState({addEventError: {\r\n        type: \"duration\",\r\n        message: \"Duration has to be more than 5 and less than 300\"\r\n      }});\r\n      return;\r\n    }\r\n    if (!title) {\r\n      this.setState({addEventError: {\r\n        type: \"title\",\r\n        message: \"Title cannot be empty\"\r\n      }});\r\n      return;\r\n    }\r\n\r\n    if (hours < 5) hours += 12;\r\n\r\n    let start = (hours - 8) * 60 + minutes;\r\n\r\n    let payload = JSON.stringify({start, duration, title});\r\n    let resp = await fetch(apiUrl, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'X-ApiToken': this.props.apiToken\r\n      },\r\n      body: payload\r\n    });\r\n    if (resp.status === 200) {\r\n      const eventData = await this.getEventData();\r\n      this.setState({events: eventData, addingEvent: false, addEventError: null});\r\n    } else {\r\n      console.log(\"HTTP request error\");\r\n    }\r\n  }\r\n\r\n  exportJsonHandler = async () => {\r\n    let events = [];\r\n    for (let e of this.state.events) {\r\n      events.push({\r\n        start: e.start,\r\n        duration: e.duration,\r\n        title: e.title\r\n      });\r\n    }\r\n    for (let i = 0; i < events.length - 1; i++) {\r\n      for (let j = i + 1; j < events.length; j++) {\r\n        if (events[j].start < events[i].start) {\r\n          let tmp = events[i];\r\n          events[i] = events[j];\r\n          events[j] = tmp;\r\n        }\r\n      }\r\n    }\r\n    let data = encode(JSON.stringify(events, null, 2));\r\n    let blob = new Blob([data], {type: 'application/octet-stream'});\r\n    let url = URL.createObjectURL(blob);\r\n    let link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = 'events.json';\r\n    link.click();\r\n\r\n    function encode(s) {\r\n      var out = [];\r\n      for (let i = 0; i < s.length; i++) {\r\n          out[i] = s.charCodeAt(i);\r\n      }\r\n      return new Uint8Array(out);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    console.log('re-render');\r\n    const timeSlices = this.setupTimeSlices();\r\n    return (\r\n      <div className={classes.Calendar} onClick={this.deselectEventHandler}>\r\n        <Modal\r\n          show={this.state.addingEvent || this.state.networkError}\r\n          modalClosed={this.state.networkError ? this.closeErrorModalHandler : this.addEventCancelHandler}\r\n        >\r\n          {this.state.addingEvent ?\r\n            <AddEventControls\r\n              cancel={this.addEventCancelHandler}\r\n              confirm={this.addEventHandler}\r\n              error={this.state.addEventError}\r\n            /> : null}\r\n\r\n          {this.state.networkError ? <h3>{this.state.networkError}</h3> : null}\r\n        </Modal>\r\n        {timeSlices}\r\n        <Button click={this.props.signOut} classes={['White', 'SignOut']}> Sign Out </Button>\r\n        <Button click={this.exportJsonHandler} classes={['White', 'Export']}> ⇩ </Button>\r\n        <AddButton click={this.addEventButtonClickHandler} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Calendar;\r\n","import React from 'react';\r\nimport classes from './AuthForm.module.css';\r\n\r\nimport Button from '../UI/Button/Button';\r\n\r\nconst authForm = (props) => {\r\n    function onEnter(event) {\r\n      if (event.key === 'Enter') props.authorize(event);\r\n    }\r\n\r\n    return (\r\n      <div className={classes.Auth}>\r\n        <h2>Log in or create a new account</h2>\r\n        <label>Username:</label>\r\n        <input type=\"text\" id=\"uname\" onKeyDown={onEnter} />\r\n        {props.error && props.error.type === 'uname' ?\r\n          <label className={classes.warning}>{props.error.message}</label> : null}\r\n        <label>Password:</label>\r\n        <input type=\"password\" id=\"pass\" onKeyDown={onEnter} />\r\n        {props.error && props.error.type === 'pass' ?\r\n          <label className={classes.warning}>{props.error.message}</label> : null}\r\n        <Button classes={['White']} click={props.authorize}>Submit</Button>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default authForm;\r\n","import React, { Component } from 'react';\r\nimport classes from './App.module.css';\r\nimport shajs from 'sha.js';\r\n\r\nimport Calendar from './Calendar/Calendar';\r\nimport AuthForm from '../components/AuthForm/AuthForm';\r\n\r\nconst SOCKET_DEV = 'http://localhost:5000';\r\nconst SOCKET_PROD = 'https://rem-calendar.herokuapp.com'\r\n\r\nconst authUrl = `${SOCKET_PROD}/auth`;\r\n\r\nclass App extends Component {\r\n\r\n  state = {\r\n    authorized: false,\r\n    authError: null,\r\n    apiToken: null\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    let cookies = document.cookie.split('; ');\r\n    let authToken = null;\r\n    for (let c of cookies) {\r\n      if (c.split('=')[0] === 'authToken') {\r\n        authToken = c.split('=')[1];\r\n        break;\r\n      }\r\n    }\r\n    if (!authToken) return;\r\n\r\n    let resp = await fetch(authUrl, {\r\n      method: 'POST',\r\n      headers: {'Content-Type': 'application/json'},\r\n      body: JSON.stringify({authToken})\r\n    });\r\n    if (resp.status === 200) {\r\n      let data = await resp.json();\r\n      if (data.uname && data.apiToken) {\r\n        this.setState({authorized: true, uname: data.uname, apiToken: data.apiToken});\r\n      }\r\n    }\r\n  }\r\n\r\n  setAuthError = (condition, error) => {\r\n    if (condition) {\r\n      this.setState({authError: error});\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  authorizationHandler = async () => {\r\n    let uname = document.querySelector('input#uname').value;\r\n    let pass = document.querySelector('input#pass').value;\r\n\r\n    if (this.setAuthError(!uname, {type: 'uname', message: 'Username required'}) ||\r\n        this.setAuthError(!pass, {type: 'pass', message: 'Password required'}) ||\r\n        this.setAuthError(uname.length < 4, {type: 'uname', message: 'Username has to be at least 4 characters'}) ||\r\n        this.setAuthError(pass.length < 6, {type: 'pass', message: 'Password has to be at least 6 characters'})) {\r\n      return;\r\n    }\r\n\r\n    let passHash = shajs('sha256').update(pass).digest('hex');\r\n\r\n    let resp = await fetch(authUrl, {\r\n      method: 'POST',\r\n      headers: {'Content-Type': 'application/json'},\r\n      body: JSON.stringify({uname, pass: passHash})\r\n    });\r\n    if (resp.status === 200) {\r\n      let data = await resp.json();\r\n      if (!data.action || !data.authToken || !data.apiToken) {\r\n        if (data.error) {\r\n          this.setState({authError: {type: 'pass', message: data.error}});\r\n        } else {\r\n          this.setState({authError: {type: 'pass', message: 'Unknown auth error'}});\r\n        }\r\n      } else {\r\n        if (data.action === 'register') {\r\n          document.cookie = `authToken=${data.authToken}`;\r\n          this.setState({authorized: true, apiToken: data.apiToken, uname});\r\n        }\r\n        if (data.action === 'login') {\r\n          document.cookie = `authToken=${data.authToken}`;\r\n          this.setState({authorized: true, apiToken: data.apiToken, uname});\r\n        }\r\n      }\r\n    } else {\r\n      let data = await resp.json();\r\n      if (data.error) {\r\n        this.setState({authError: {type: 'pass', message: data.error}});\r\n      } else {\r\n        this.setState({authError: {type: 'pass', message: 'Unknown auth error'}});\r\n      }\r\n      return;\r\n    }\r\n  };\r\n\r\n  signOutHandler = () => {\r\n    document.cookie = `authToken=;expires=${new Date(0).toUTCString()}`;\r\n    this.setState({authorized: false, apiToken: null});\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className={classes.App}>\r\n        { this.state.authorized ?\r\n          <Calendar\r\n            timeStart={8}\r\n            timeSlicesAmount={19}\r\n            apiToken={this.state.apiToken}\r\n            signOut={this.signOutHandler}\r\n          /> :\r\n          <AuthForm\r\n            error={this.state.authError}\r\n            authorize={this.authorizationHandler}\r\n          /> }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './containers/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}