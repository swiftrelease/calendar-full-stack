{"version":3,"sources":["components/TimeSlice/TimeSlice.module.css","components/CalendarEvent/CalendarEvent.module.css","components/AuthForm/AuthForm.module.css","components/UI/Button/Button.module.css","containers/App.module.css","containers/Calendar/Calendar.module.css","components/UI/Modal/Modal.module.css","components/UI/Backdrop/Backdrop.module.css","components/UI/Button/Button.js","components/CalendarEvent/CalendarEvent.js","components/TimeSlice/TimeSlice.js","hoc/Auxiliary.js","components/UI/Backdrop/Backdrop.js","components/UI/Modal/Modal.js","components/AddEventControls/AddEventControls.js","containers/Calendar/Calendar.js","components/AuthForm/AuthForm.js","containers/App.js","serviceWorker.js","index.js"],"names":["module","exports","TimeSlice","TimeArea","EventArea","CalEvent","Selected","Auth","warning","Button","Red","Green","White","DeleteButton","Controls","AddButton","SignOut","Export","App","Calendar","Modal","Backdrop","button","props","classNames","classes","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","c","value","push","err","return","react_default","a","createElement","type","className","join","onClick","click","children","calendarEvent","selected","style","width","height","top","offsetTop","left","delete","timeSlice","events","prevHeight","map","e","index","start","sliceStart","duration","concat","_i","length","val","CalendarEvent","event","selectEvent","_id","key","deleteHandler","title","small","borderTop","fontSize","time","aux","backdrop","show","clicked","modal","Auxiliary","modalClosed","transform","opacity","addEventControls","setupOptions","values","onEnter","confirm","id","onKeyDown","placeholder","error","message","cancel","apiUrl","state","addingEvent","selectedEventId","addEventError","networkError","styledEvents","getEventData","_callee","request","data","regenerator_default","wrap","_context","prev","fetch","method","headers","X-ApiToken","_this","apiToken","sent","status","json","abrupt","setState","stop","this","componentDidMount","_callee2","eventData","_context2","containsOffsetEvent","evnt","offsetEvents","setStyledEvents","Object","toConsumableArray","i","j","temp","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","overlappingEventsNum","overlappingEvents","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","eventsOverlap","widthPercent","column","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","selectEventHandler","stopPropagation","deselectEventHandler","addEventButtonClickHandler","addEventCancelHandler","closeErrorModalHandler","deleteEventHandler","_callee3","_context3","Content-Type","body","JSON","stringify","splice","console","log","addEventHandler","_callee4","hours","minutes","payload","_context4","document","querySelector","isNaN","exportJsonHandler","_callee5","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_iterator5","_step5","tmp","blob","url","link","encode","_context5","s","out","charCodeAt","Uint8Array","t0","finish","Blob","URL","createObjectURL","href","download","e1","e2","_this2","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","ev","objectSpread","timeStart","amount","timeSlicesAmount","timeSlices","getSliceStart","getEventsForSlice","setupTimeSlices","AddEventControls_AddEventControls","signOut","Component","authForm","authorize","authUrl","authorized","authError","ready","cookies","authToken","resp","cookie","split","uname","setAuthError","condition","authorizationHandler","pass","passHash","_data","shajs","update","digest","action","signOutHandler","Date","toUTCString","containers_Calendar_Calendar","AuthForm","Boolean","window","location","hostname","match","ReactDOM","render","containers_App","getElementById","navigator","serviceWorker","then","registration","unregister"],"mappings":"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","file":"static/js/main.9b1c9e54.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"TimeSlice\":\"TimeSlice_TimeSlice__RMlbL\",\"TimeArea\":\"TimeSlice_TimeArea__X9z0w\",\"EventArea\":\"TimeSlice_EventArea__1J2ft\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CalEvent\":\"CalendarEvent_CalEvent__1qIuX\",\"Selected\":\"CalendarEvent_Selected__3B_nL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Auth\":\"AuthForm_Auth__aDBu3\",\"warning\":\"AuthForm_warning__3Pxnt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3lFHW\",\"Red\":\"Button_Red__UJqY3\",\"Green\":\"Button_Green__TYQET\",\"White\":\"Button_White__2Ukga\",\"DeleteButton\":\"Button_DeleteButton__1BORa\",\"Controls\":\"Button_Controls__hOqtp\",\"AddButton\":\"Button_AddButton__pvLdm\",\"SignOut\":\"Button_SignOut__33MQ7\",\"Export\":\"Button_Export__DnoC-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2_CuX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Calendar\":\"Calendar_Calendar__1HlCv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__Ha-T5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__nyqul\"};","import React from 'react';\r\n\r\nimport classes from './Button.module.css';\r\n\r\nconst button = (props) => {\r\n  let classNames = [classes.Button];\r\n  if (props.classes) {\r\n    for (let c of props.classes) {\r\n      classNames.push(classes[c]);\r\n    }\r\n  }\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      className={classNames.join(' ')}\r\n      onClick={props.click}\r\n    >\r\n      {props.children}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default button;\r\n","import React from 'react';\r\nimport classes from './CalendarEvent.module.css';\r\n\r\nimport Button from '../UI/Button/Button';\r\n\r\nconst calendarEvent = (props) => {\r\n  let classNames = props.selected ?\r\n    [classes.CalEvent, classes.Selected].join(\" \") :\r\n    classes.CalEvent;\r\n  return (\r\n    <div\r\n      className={classNames}\r\n      onClick={props.click}\r\n      style={{\r\n        width: props.style.width,\r\n        height: props.style.height,\r\n        top: props.style.offsetTop,\r\n        left: props.style.left\r\n      }}\r\n    >\r\n      {props.children}\r\n      {props.selected ? <Button classes={[\"DeleteButton\"]} click={props.delete}>x</Button> : null }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default calendarEvent;\r\n","import React from 'react';\r\nimport classes from './TimeSlice.module.css';\r\n\r\nimport CalendarEvent from '../CalendarEvent/CalendarEvent';\r\n\r\nconst timeSlice = (props) => {\r\n\r\n  let events = null;\r\n\r\n  if (props.events) {\r\n    let prevHeight = [];\r\n    events = props.events.map((e, index) => {\r\n      const top = (e.start - props.sliceStart) * 10 / 3 + '%';\r\n      const height = e.duration * 10 / 3 + '%';\r\n      let offsetTop = `calc(${top}`;\r\n      for (let val of prevHeight) {\r\n        offsetTop += ` - ${val}`;\r\n      }\r\n      offsetTop += ')';\r\n      prevHeight.push(height);\r\n      const width = e.width;\r\n      const left = e.left;\r\n      return (\r\n        <CalendarEvent\r\n          click={(event) => props.selectEvent(event, e._id)}\r\n          duration={e.duration}\r\n          key={index}\r\n          style={{ offsetTop, height, width, left }}\r\n          selected={e.selected ? e.selected : null}\r\n          delete={e.selected ? (event) => e.deleteHandler(event, e._id) : null}\r\n        >\r\n          {e.title}\r\n        </CalendarEvent>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={classes.TimeSlice}\r\n      style={ props.small ? null : {borderTop: \"1px solid #ccc\"} }\r\n    >\r\n      <div\r\n        className={classes.TimeArea}\r\n        style={ props.small ? {fontSize: \"12px\"} : null }\r\n      >\r\n        {props.time}\r\n      </div>\r\n      <div className={classes.EventArea}>\r\n        {events}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default timeSlice;\r\n","const aux = (props) => props.children;\r\n\r\nexport default aux;\r\n","import React from 'react';\r\n\r\nimport classes from './Backdrop.module.css';\r\n\r\nconst backdrop = (props) => (\r\n  props.show ? <div className={classes.Backdrop} onClick={props.clicked}></div> : null\r\n);\r\n\r\nexport default backdrop;\r\n","import React from 'react';\r\n\r\nimport classes from './Modal.module.css';\r\nimport Aux from '../../../hoc/Auxiliary';\r\nimport Backdrop from '../Backdrop/Backdrop';\r\n\r\nconst modal = (props) => (\r\n  <Aux>\r\n    <Backdrop show={props.show} clicked={props.modalClosed} />\r\n    <div\r\n      className={classes.Modal}\r\n      style={{\r\n        transform: props.show ? 'translateY(0)' : 'translateY(-100vh)',\r\n        opacity: props.show ? '1' : 0\r\n      }}\r\n    >\r\n      {props.children}\r\n    </div>\r\n  </Aux>\r\n);\r\n\r\nexport default modal;\r\n","import React from 'react';\r\nimport './AddEventControls.css';\r\n\r\nimport Aux from '../../hoc/Auxiliary';\r\nimport Button from '../UI/Button/Button';\r\n\r\nconst addEventControls = (props) => {\r\n\r\n  const hours = [8, 9, 10, 11, 12, 1, 2, 3, 4];\r\n  const minutes = ['00', '05', '10', '15', '20', '25', '30', '35', '40', '45', '50', '55'];\r\n\r\n  function setupOptions(values) {\r\n    return values.map(value => <option value={value} key={value}>{value}</option>);\r\n  }\r\n\r\n  function onEnter(event) {\r\n    if (event.key === 'Enter') props.confirm();\r\n  }\r\n\r\n  return (\r\n    <Aux>\r\n      <h3>Add event</h3>\r\n      <div className=\"add-event-controls\">\r\n        <select id=\"hours\">\r\n          {setupOptions(hours)}\r\n        </select>\r\n        <select id=\"minutes\">\r\n          {setupOptions(minutes)}\r\n        </select>\r\n        <label>Duration: </label>\r\n        <input type=\"text\" id=\"duration\" onKeyDown={onEnter} placeholder=\"Duration in minutes\" />\r\n        {props.error && props.error.type === \"duration\" ?\r\n          <label className=\"warning\">{props.error.message}</label> : null}\r\n        <label>Title: </label>\r\n        <input type=\"text\" id=\"title\" onKeyDown={onEnter} placeholder=\"Event title\" />\r\n        {props.error && props.error.type === \"title\"\r\n          ? <label className=\"warning\">{props.error.message}</label> : null}\r\n        <Button click={props.confirm} classes={[\"Green\", \"Controls\"]}> Add </Button>\r\n        <Button click={props.cancel} classes={[\"White\", \"Controls\"]}> Cancel </Button>\r\n      </div>\r\n    </Aux>\r\n  );\r\n\r\n};\r\n\r\nexport default addEventControls;\r\n","import React, { Component } from 'react';\r\nimport classes from './Calendar.module.css';\r\n\r\nimport TimeSlice from '../../components/TimeSlice/TimeSlice';\r\nimport Button from '../../components/UI/Button/Button';\r\nimport Modal from '../../components/UI/Modal/Modal';\r\nimport AddEventControls from '../../components/AddEventControls/AddEventControls';\r\n\r\nconst SOCKET_DEV = 'http://localhost:5000';\r\nconst SOCKET_PROD = 'https://rem-calendar.herokuapp.com'\r\n\r\nconst apiUrl = `${SOCKET_PROD}/api/calendar`;\r\n\r\nclass Calendar extends Component {\r\n\r\n  state = {\r\n    events: [],\r\n    addingEvent: false,\r\n    selectedEventId: null,\r\n    addEventError: null,\r\n    networkError: null\r\n  };\r\n\r\n  styledEvents = [];\r\n\r\n  getEventData = async () => {\r\n    const request = await fetch(apiUrl, {\r\n      method: 'GET',\r\n      headers: {\r\n        'X-ApiToken': this.props.apiToken\r\n      }\r\n    });\r\n    if (request.status === 200) {\r\n      const data = await request.json();\r\n      return data;\r\n    } else {\r\n      this.setState({networkError: `Failed to connect to the server: ${request.status}.`});\r\n    }\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    const eventData = await this.getEventData();\r\n\r\n    if (eventData) {\r\n      this.setState({events: eventData});\r\n    }\r\n  }\r\n\r\n  eventsOverlap(e1, e2) {\r\n    return ( (e1.start <= e2.start && e1.start + e1.duration > e2.start)\r\n      || (e2.start <= e1.start && e2.start + e2.duration > e1.start) );\r\n  }\r\n\r\n  containsOffsetEvent = (evnt) => {\r\n    for (let e of this.offsetEvents) {\r\n      if (evnt._id === e._id) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  setStyledEvents = () => {\r\n    let eventData = [...this.state.events];\r\n\r\n    // Sort\r\n    for (let i = 0; i < eventData.length - 1; i++) {\r\n      for (let j = i + 1; j < eventData.length; j++) {\r\n        if (eventData[i].start > eventData[j].start) {\r\n          let temp = eventData[i];\r\n          eventData[i] = eventData[j];\r\n          eventData[j] = temp;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Calculate width based on the number of overlapping events\r\n    for (let evnt of eventData) {\r\n      let overlappingEventsNum = 1;\r\n      let overlappingEvents = [];\r\n      for (let e of eventData) {\r\n        if (this.eventsOverlap(evnt, e) && evnt._id !== e._id) {\r\n           overlappingEvents.push(e);\r\n           overlappingEventsNum++;\r\n         }\r\n      }\r\n      for (let i = 0; i < overlappingEvents.length - 1; i++) {\r\n        for (let j = i + 1; j < overlappingEvents.length; j++) {\r\n          if (!this.eventsOverlap(overlappingEvents[i], overlappingEvents[j])) {\r\n            overlappingEventsNum--;\r\n          }\r\n        }\r\n      }\r\n      evnt.widthPercent = 100 / overlappingEventsNum;\r\n    }\r\n\r\n    // Calculate the left position\r\n    if (eventData[0]) {\r\n      eventData[0].column = 0;\r\n    }\r\n    for (let i = 1; i < eventData.length; i++) {\r\n      eventData[i].column = 0;\r\n      for (let j = 0; j < i; j++) {\r\n        if (this.eventsOverlap(eventData[i], eventData[j]) && eventData[i].column === eventData[j].column) {\r\n          eventData[i].column++;\r\n        }\r\n      }\r\n    }\r\n\r\n    for (let e of eventData) {\r\n      e.left = `${e.column * e.widthPercent}%`;\r\n      e.width = `calc(${e.widthPercent}% - 12px)`;\r\n    }\r\n    this.styledEvents = eventData;\r\n  }\r\n\r\n  getSliceStart(time, small) {\r\n    let sliceStart = (time > 5 ? (time - 8) * 60 : (time + 4) * 60);\r\n    if (small) sliceStart += 30;\r\n    return sliceStart;\r\n  }\r\n\r\n  getEventsForSlice(sliceStart) {\r\n    let events = [];\r\n    for (let e of this.styledEvents) {\r\n      if (e.start >= sliceStart && e.start < sliceStart + 30) events.push(e);\r\n    }\r\n    events = events.map(e => {\r\n      let ev = { ...e };\r\n      if (ev._id === this.state.selectedEventId) {\r\n        ev = { ...ev, selected: true, deleteHandler: this.deleteEventHandler };\r\n      }\r\n      return ev;\r\n    });\r\n    return events;\r\n  }\r\n\r\n  setupTimeSlices() {\r\n    const start = this.props.timeStart;\r\n    const amount = this.props.timeSlicesAmount;\r\n    let small = false;\r\n    const timeSlices = [];\r\n    for (let i = 0, time = start; i < amount; i++) {\r\n      let sliceStart = this.getSliceStart(time, small);\r\n      timeSlices.push((\r\n        <TimeSlice\r\n          events={this.getEventsForSlice(sliceStart)}\r\n          selectEvent={this.selectEventHandler}\r\n          small={small}\r\n          time={`${time}:${small ? '30' : '00'}`}\r\n          sliceStart={sliceStart}\r\n          key={`${time}:${small ? '30' : '00'}`}\r\n        />\r\n      ));\r\n      if (time === 12 && small) time = 0;\r\n      if (small) time++;\r\n      small = !small;\r\n    }\r\n    return timeSlices;\r\n  }\r\n\r\n  selectEventHandler = (event, id) => {\r\n    event.stopPropagation();\r\n    if (this.state.selectedEventId === id) return;\r\n    this.setState({selectedEventId: id});\r\n  };\r\n\r\n  deselectEventHandler = () => {\r\n    if (this.state.selectedEventId) {\r\n      this.setState({selectedEventId: null});\r\n    }\r\n  };\r\n\r\n  addEventButtonClickHandler = () => {\r\n    this.setState({ addingEvent: true });\r\n  };\r\n\r\n  addEventCancelHandler = () => {\r\n    this.setState({ addingEvent: false });\r\n  };\r\n\r\n  closeErrorModalHandler = () => {\r\n    this.setState({ networkError: null });\r\n  };\r\n\r\n  deleteEventHandler = async (event, id) => {\r\n    event.stopPropagation();\r\n    let resp = await fetch(apiUrl, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'X-ApiToken': this.props.apiToken\r\n      },\r\n      body: JSON.stringify({id})\r\n    });\r\n    if (resp.status === 200) {\r\n      let events = [...this.state.events];\r\n      for (let i = 0; i < events.length; i++) {\r\n        if (events[i]._id === id) {\r\n          events.splice(i, 1);\r\n          this.setState({events});\r\n          break;\r\n        }\r\n      }\r\n    } else {\r\n      console.log(\"HTTP request error\");\r\n    }\r\n  };\r\n\r\n  addEventHandler = async () => {\r\n    let hours = +document.querySelector('select#hours').value;\r\n    let minutes = +document.querySelector('select#minutes').value;\r\n    let duration = +document.querySelector('input#duration').value;\r\n    let title = document.querySelector('input#title').value;\r\n\r\n\r\n    if (isNaN(duration)) {\r\n      this.setState({addEventError: {\r\n        type: \"duration\",\r\n        message: \"Duration has to be a number\"\r\n      }});\r\n      return;\r\n    }\r\n    if (duration < 5 || duration > 300) {\r\n      this.setState({addEventError: {\r\n        type: \"duration\",\r\n        message: \"Duration has to be more than 5 and less than 300\"\r\n      }});\r\n      return;\r\n    }\r\n    if (!title) {\r\n      this.setState({addEventError: {\r\n        type: \"title\",\r\n        message: \"Title cannot be empty\"\r\n      }});\r\n      return;\r\n    }\r\n\r\n    if (hours < 5) hours += 12;\r\n\r\n    let start = (hours - 8) * 60 + minutes;\r\n\r\n    let payload = JSON.stringify({start, duration, title});\r\n    let resp = await fetch(apiUrl, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'X-ApiToken': this.props.apiToken\r\n      },\r\n      body: payload\r\n    });\r\n    if (resp.status === 200) {\r\n      const eventData = await this.getEventData();\r\n      this.setState({events: eventData, addingEvent: false, addEventError: null});\r\n    } else {\r\n      console.log(\"HTTP request error\");\r\n    }\r\n  }\r\n\r\n  exportJsonHandler = async () => {\r\n    let events = [];\r\n    for (let e of this.state.events) {\r\n      events.push({\r\n        start: e.start,\r\n        duration: e.duration,\r\n        title: e.title\r\n      });\r\n    }\r\n    for (let i = 0; i < events.length - 1; i++) {\r\n      for (let j = i + 1; j < events.length; j++) {\r\n        if (events[j].start < events[i].start) {\r\n          let tmp = events[i];\r\n          events[i] = events[j];\r\n          events[j] = tmp;\r\n        }\r\n      }\r\n    }\r\n    let data = encode(JSON.stringify(events, null, 2));\r\n    let blob = new Blob([data], {type: 'application/octet-stream'});\r\n    let url = URL.createObjectURL(blob);\r\n    let link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = 'events.json';\r\n    link.click();\r\n\r\n    function encode(s) {\r\n      var out = [];\r\n      for (let i = 0; i < s.length; i++) {\r\n          out[i] = s.charCodeAt(i);\r\n      }\r\n      return new Uint8Array(out);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    this.setStyledEvents();\r\n    const timeSlices = this.setupTimeSlices();\r\n    return (\r\n      <div className={classes.Calendar} onClick={this.deselectEventHandler}>\r\n        <Modal\r\n          show={this.state.addingEvent || this.state.networkError}\r\n          modalClosed={this.state.networkError ? this.closeErrorModalHandler : this.addEventCancelHandler}\r\n        >\r\n          {this.state.addingEvent ?\r\n            <AddEventControls\r\n              cancel={this.addEventCancelHandler}\r\n              confirm={this.addEventHandler}\r\n              error={this.state.addEventError}\r\n            /> : null}\r\n\r\n          {this.state.networkError ? <h3>{this.state.networkError}</h3> : null}\r\n        </Modal>\r\n        {timeSlices}\r\n        <Button click={this.props.signOut} classes={['White', 'SignOut']}> Sign Out </Button>\r\n        <Button click={this.exportJsonHandler} classes={['White', 'Export']}> ⇩ </Button>\r\n        <Button click={this.addEventButtonClickHandler} classes={['AddButton']}> + </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Calendar;\r\n","import React from 'react';\r\nimport classes from './AuthForm.module.css';\r\n\r\nimport Button from '../UI/Button/Button';\r\n\r\nconst authForm = (props) => {\r\n    function onEnter(event) {\r\n      if (event.key === 'Enter') props.authorize(event);\r\n    }\r\n\r\n    return (\r\n      <div className={classes.Auth}>\r\n        <h2>Log in or create a new account</h2>\r\n        <label>Username:</label>\r\n        <input type=\"text\" id=\"uname\" onKeyDown={onEnter} />\r\n        {props.error && props.error.type === 'uname' ?\r\n          <label className={classes.warning}>{props.error.message}</label> : null}\r\n        <label>Password:</label>\r\n        <input type=\"password\" id=\"pass\" onKeyDown={onEnter} />\r\n        {props.error && props.error.type === 'pass' ?\r\n          <label className={classes.warning}>{props.error.message}</label> : null}\r\n        <Button classes={['White']} click={props.authorize}>Submit</Button>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default authForm;\r\n","import React, { Component } from 'react';\r\nimport classes from './App.module.css';\r\nimport shajs from 'sha.js';\r\n\r\nimport Calendar from './Calendar/Calendar';\r\nimport AuthForm from '../components/AuthForm/AuthForm';\r\n\r\nconst SOCKET_DEV = 'http://localhost:5000';\r\nconst SOCKET_PROD = 'https://rem-calendar.herokuapp.com'\r\n\r\nconst authUrl = `${SOCKET_PROD}/auth`;\r\n\r\nclass App extends Component {\r\n\r\n  state = {\r\n    authorized: false,\r\n    authError: null,\r\n    apiToken: null,\r\n    ready: false\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    let cookies = document.cookie.split('; ');\r\n    let authToken = null;\r\n    for (let c of cookies) {\r\n      if (c.split('=')[0] === 'authToken') {\r\n        authToken = c.split('=')[1];\r\n        break;\r\n      }\r\n    }\r\n    if (!authToken) {\r\n      this.setState({ready: true});\r\n      return;\r\n    }\r\n\r\n    let resp = await fetch(authUrl, {\r\n      method: 'POST',\r\n      headers: {'Content-Type': 'application/json'},\r\n      body: JSON.stringify({authToken})\r\n    });\r\n    if (resp.status === 200) {\r\n      let data = await resp.json();\r\n      if (data.uname && data.apiToken) {\r\n        this.setState({authorized: true, apiToken: data.apiToken, ready: true});\r\n      }\r\n    } else {\r\n      this.setState({ready: true});\r\n    }\r\n  }\r\n\r\n  setAuthError = (condition, error) => {\r\n    if (condition) {\r\n      this.setState({authError: error});\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  authorizationHandler = async () => {\r\n    let uname = document.querySelector('input#uname').value;\r\n    let pass = document.querySelector('input#pass').value;\r\n\r\n    if (this.setAuthError(!uname, {type: 'uname', message: 'Username required'}) ||\r\n        this.setAuthError(!pass, {type: 'pass', message: 'Password required'}) ||\r\n        this.setAuthError(uname.length < 4, {type: 'uname', message: 'Username has to be at least 4 characters'}) ||\r\n        this.setAuthError(pass.length < 6, {type: 'pass', message: 'Password has to be at least 6 characters'})) {\r\n      return;\r\n    }\r\n\r\n    let passHash = shajs('sha256').update(pass).digest('hex');\r\n\r\n    let resp = await fetch(authUrl, {\r\n      method: 'POST',\r\n      headers: {'Content-Type': 'application/json'},\r\n      body: JSON.stringify({uname, pass: passHash})\r\n    });\r\n    if (resp.status === 200) {\r\n      let data = await resp.json();\r\n      if (!data.action || !data.authToken || !data.apiToken) {\r\n        if (data.error) {\r\n          this.setState({authError: {type: 'pass', message: data.error}});\r\n        } else {\r\n          this.setState({authError: {type: 'pass', message: 'Unknown auth error'}});\r\n        }\r\n      } else {\r\n        if (data.action === 'register') {\r\n          document.cookie = `authToken=${data.authToken}`;\r\n          this.setState({authorized: true, apiToken: data.apiToken, uname});\r\n        }\r\n        if (data.action === 'login') {\r\n          document.cookie = `authToken=${data.authToken}`;\r\n          this.setState({authorized: true, apiToken: data.apiToken, uname});\r\n        }\r\n      }\r\n    } else {\r\n      let data = await resp.json();\r\n      if (data.error) {\r\n        this.setState({authError: {type: 'pass', message: data.error}});\r\n      } else {\r\n        this.setState({authError: {type: 'pass', message: 'Unknown auth error'}});\r\n      }\r\n      return;\r\n    }\r\n  };\r\n\r\n  signOutHandler = () => {\r\n    document.cookie = `authToken=;expires=${new Date(0).toUTCString()}`;\r\n    this.setState({authorized: false, apiToken: null, authError: null});\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      this.state.ready ? (\r\n        <div className={classes.App}>\r\n          { this.state.authorized ?\r\n            <Calendar\r\n              timeStart={8}\r\n              timeSlicesAmount={19}\r\n              apiToken={this.state.apiToken}\r\n              signOut={this.signOutHandler}\r\n            /> :\r\n            <AuthForm\r\n              error={this.state.authError}\r\n              authorize={this.authorizationHandler}\r\n            /> }\r\n        </div>\r\n      ) : null\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './containers/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}